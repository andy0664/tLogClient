<!--
  Generated template for the Userprofile page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title><p>{{user.local.username}}</p></ion-title>
  </ion-navbar>
</ion-header>


<ion-content padding>
  <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
    <ion-list no-lines="">
      <ion-card *ngFor="let image of user.images">
        <ion-card-content>
          <img [src]="image.url" >
        </ion-card-content>
        <ion-row>
          <ion-col>
            <button ion-button icon-left clear small>
              <ion-icon name="thumbs-up"></ion-icon>
              <div>12 Likes</div>
            </button>
          </ion-col>
          <ion-col>
            <button ion-button icon-left clear small>
              <ion-icon name="text"></ion-icon>
              <div>4 Comments</div>
            </button>
          </ion-col>
          <ion-col center text-center>
            <ion-note>
              11h ago
            </ion-note>
          </ion-col>
        </ion-row>
      </ion-card>
      <ion-item>
        <ion-input readonly="true" [(ngModel)]="user.local.username" formControlName="username"></ion-input>
      </ion-item>
      <ion-item *ngIf="formErrors.username" class="item-md-danger">
        <p>{{ formErrors.username }}</p>
      </ion-item>
      <ion-item>
        <ion-input type="text" [(ngModel)]="user.local.email" formControlName="email"></ion-input>
      </ion-item>
      <ion-item *ngIf="formErrors.email" class="item-md-danger">
        <p>{{ formErrors.email }}</p>
      </ion-item>
    </ion-list>
  </form>
  <ion-item>
    <ion-label>Trip Notifications</ion-label>
    <ion-toggle [(ngModel)]="user.tripNotifications"></ion-toggle>
  </ion-item>
  <button (click)="change()"  ion-button [disabled]="!userForm.valid">Save Changes</button>
  <button (click)="addImage()"  ion-button [disabled]="!userForm.valid">Add Image</button>

</ion-content>


<!--
<button ion-button (click)="takePhoto()" icon-left>
  <ion-icon name="camera"> </ion-icon> Take Image
</button>
<button ion-button (click)="selectPicture()" icon-left>
  <ion-icon name="images"> </ion-icon>Pick Image
</button>
<button ion-button (click)="upload()" [disabled]="!image" color="dark" icon-left>
  <ion-icon name="cloud-upload"></ion-icon> Save
</button>
<ion-card *ngIf="image">
  <img [src]="image" />
</ion-card>-->

<!--<ion-item>
  <ion-input type="password" placeholder="Password" formControlName="password"></ion-input>
</ion-item>
<ion-item class="item-md-danger" *ngIf="formErrors.password" >
  <p>{{ formErrors.password }}</p>
</ion-item>-->
